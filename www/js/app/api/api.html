<ion-view view-title="Api Rest">
  <ion-content padding="true">
    <h1>Api Rest</h1>

    <div class="row">
        <div class="col">
            <!-- si cambia que lo detecte con ng-change y ejecute una funcion -->
            <label for="region">Region:</label> <br>
            <select ng-model="regionResults"
                ng-change="updatedRegion(regionResults.name)"
                ng-options="region.name for region in regions">
                <option value="">Select a region</option>
            </select>
            <!-- {{ regionResults.name }} -->
        </div>
        <div class="col">
            <label for="country">Country:</label> <br>
            <select ng-model="countryResults"
                ng-if="regionResults.name"
                ng-change="updatedCountry(countryResults.name)"
                ng-options="country.name for country in countries">
                <option value="">Select a country</option>
            </select>
        </div>
    </div><br>

    <!-- <section ng-if="regionResults.name">
        <hr><br>

        <p><strong>Region:</strong> {{ regionResults.name }}</p>
    </section>-->

    <section ng-if="results">
        <div class="card">
           <div class="item item-avatar">
              <img ng-src="http://www.geonames.org/flags/x/{{ results.data[0].alpha2Code | lowercase}}.gif" alt="{{ results.data[0].name }}" />
              <h2>{{ results.data[0].name }}</h2>
           </div>

           <div class="item item-body">
              <img class="full-image" ng-src="http://www.geonames.org/flags/x/{{ results.data[0].alpha2Code | lowercase}}.gif" alt="{{ results.data[0].name }}" />
              <br>
              <strong>Population: </strong>{{ results.data[0].population | number:0 }} <small>habitantes.</small>
        </div>
   </section>

  </ion-content>
</ion-view>
